<div class="grid grid-cols-1 md:grid-cols-2 gap-10 p-10">
    <div class="bg-slate-800 p-8 rounded-[2.5rem] border border-slate-700 shadow-2xl">
        <h2 class="text-white text-2xl font-black uppercase mb-6 italic tracking-widest">Duyệt Bank/QR</h2>
        <div id="bank-list" class="space-y-4">
            </div>
    </div>

    <div class="bg-slate-800 p-8 rounded-[2.5rem] border border-slate-700 shadow-2xl">
        <h2 class="text-white text-2xl font-black uppercase mb-6 italic tracking-widest">Đơn Hàng Mới</h2>
        <div id="order-list" class="space-y-4 text-white">
            </div>
    </div>
</div>

<script>
// Logic xử lý duyệt đơn của Nghĩa
async function duyetDon(uid, orderKey, amount) {
    if(confirm("Xác nhận cộng " + amount + "đ cho khách?")) {
        const userRef = db.ref('users/' + uid);
        const snap = await userRef.get();
        const currentBal = snap.val().balance || 0;
        
        // Cộng tiền và đổi trạng thái đơn
        await userRef.update({ balance: currentBal + parseInt(amount) });
        await db.ref('history/' + uid + '/' + orderKey).update({ status: "Thành công" });
        
        alert("Đã cộng tiền và duyệt đơn thành công!");
        location.reload();
    }
}
</script>
